<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="FAQ_files/filelist.xml">
<title>CJD FAQ</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Howard Green</o:Author>
  <o:LastAuthor>Howard Green</o:LastAuthor>
  <o:Revision>4</o:Revision>
  <o:TotalTime>15932</o:TotalTime>
  <o:Created>2012-01-30T02:30:00Z</o:Created>
  <o:LastSaved>2012-01-30T03:01:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>2736</o:Words>
  <o:Characters>15599</o:Characters>
  <o:Company>None</o:Company>
  <o:Lines>129</o:Lines>
  <o:Paragraphs>36</o:Paragraphs>
  <o:CharactersWithSpaces>18299</o:CharactersWithSpaces>
  <o:Version>11.9999</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:RelyOnVML/>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:DontDisplayPageBoundaries/>
  <w:DisplayBackgroundShape/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:SelectEntireFieldWithStartOrEnd/>
   <w:UseWord2002TableStyleRules/>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:\5B8B\4F53;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.3in;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:SimSun;
	mso-bidi-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.1in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Arial;
	mso-font-kerning:16.0pt;}
h2
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.1in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:14.0pt;
	font-family:Arial;
	color:blue;
	mso-bidi-font-style:italic;}
h3
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.1in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:13.0pt;
	font-family:Arial;}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{mso-style-noshow:yes;
	margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.3in;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:SimSun;
	mso-bidi-font-family:"Times New Roman";}
span.MsoFootnoteReference
	{mso-style-noshow:yes;
	vertical-align:super;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p.Prog, li.Prog, div.Prog
	{mso-style-name:Prog;
	margin-top:0in;
	margin-right:.3in;
	margin-bottom:0in;
	margin-left:.3in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:SimSun;
	mso-bidi-font-family:"Times New Roman";}
span.ProgTextChar
	{mso-style-name:"ProgText Char";
	mso-style-locked:yes;
	mso-style-link:ProgText;
	mso-ansi-font-size:11.0pt;
	font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:SimSun;
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";
	mso-ansi-language:EN-US;
	mso-fareast-language:ZH-CN;
	mso-bidi-language:AR-SA;
	mso-no-proof:yes;}
p.ProgText, li.ProgText, div.ProgText
	{mso-style-name:ProgText;
	mso-style-link:"ProgText Char";
	margin-top:0in;
	margin-right:.3in;
	margin-bottom:0in;
	margin-left:.3in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:63.0pt 1.25in 117.0pt;
	background:#FFFFDD;
	border:none;
	mso-border-alt:solid windowtext .5pt;
	padding:0in;
	mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:SimSun;
	mso-no-proof:yes;}
 /* Page Definitions */
 @page
	{mso-footnote-separator:url("FAQ_files/header.html") fs;
	mso-footnote-continuation-separator:url("FAQ_files/header.html") fcs;
	mso-endnote-separator:url("FAQ_files/header.html") es;
	mso-endnote-continuation-separator:url("FAQ_files/header.html") ecs;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:1451775812;
	mso-list-type:hybrid;
	mso-list-template-ids:775991572 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.8in;
	mso-level-number-position:left;
	margin-left:.8in;
	text-indent:-.25in;
	font-family:Symbol;}
@list l0:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="12290"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<h1><span style='font-size:18.0pt'>Answers to a few (supposedly)
frequently-asked questions<o:p></o:p></span></h1>

<h2>… on what CJD is and does</h2>

<h3>What is CJD?<span style='mso-spacerun:yes'>  </span></h3>

<p class=MsoNormal>It's an embedded documentation technology for Clojure, an
alternative to docstrings. If you're familiar with Javadoc, CJD will look tolerably
familiar from a high enough altitude. </p>

<p class=MsoNormal>Basically, the idea behind CJD (or Javadoc, for that matter)
is to embed documentation for a program's internal structures within the source
code, in the form of structured comments. These comments are always in the
immediate proximity of the artifact being documented, the better to be created,
read, and/or updated when artifact is being worked on.</p>

<p class=MsoNormal>During the normal compilation process, the compiler discards
these documentation comments just as it would with any other comment, and so
they don't affect generated code at all. </p>

<p class=MsoNormal>As a post-processing phase in a build process, a CJD
function or program makes a pass through source code, extracts the
documentation comments, and from them generates a tree of HTML documents.
Interested parties can then view these documents using conventional web
browsers.</p>

<p class=MsoNormal>With respect to documentation comments themselves, the
general idea is to provide a simple-minded syntax that makes salient elements
(parameters, return values, methods, etc.) readily identifiable—both to
processing programs and to programmers trying to read the documentation—along
with a simple-minded form of document markup.<span style='mso-spacerun:yes'> 
</span></p>

<h3>How would I know a CJD comment if one bit me? </h3>

<p class=MsoNormal>In languages like Java or C, the syntax includes the notion
of a &quot;block comment&quot;, with a form like <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>/* ..comment text.. */</span></span>,
where what comes between the <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>/*</span></span> and <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>*/</span></span> is of more or
less of arbitrary content, can span multiple lines, and can run on for as long
as the commenter has the strength. Javadoc leverages this by recognizing
comments of the form <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>/** ..javadoc comment text.. */</span></span> (note the
leading <span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>**</span></span>—that's
the cue), and then processing their contents as Javadoc source material.</p>

<p class=MsoNormal>Clojure doesn't have block comments as such, but it's got
something <i style='mso-bidi-font-style:normal'>even better!</i> In Clojure, an
entire form can be commented out by inserting the two-character reader macro <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>#_</span></span>
immediately before the start<span style='mso-spacerun:yes'>  </span>of the
form. So, CJD riffs off of Javadoc a bit, and defines a CJD comment as a
commented-out list which has a <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>*</span></span> as its first element. So, if a form of the
form <span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>#_(*
...contents...)</span></span> appears on your radar, it's a candidate CJD
comment.</p>

<p class=MsoNormal>Here's a genuine certified example CJD-comment, captured
live in the wild:</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .5pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#FFFFDD;margin-left:.3in;margin-right:.3in'>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><o:p>&nbsp;</o:p></p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'>#_
(* Processes a sequence of CJD comment-content forms into a </p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>      </span>sequence of flow-forms, which will in
turn contain phrasing </p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>      </span>and text content.</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>      </span>@arg context The context map.</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>      </span>@arg contents A sequence of input forms
to be parsed.</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>      </span>@(returns A tuple of the form @(form
[flows remaining]),</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-tab-count:1'>      </span><span style='mso-spacerun:yes'>  
</span>where\: </p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>         </span>@arg flows A sequence of flow nodes
describing the </p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>         </span>parsed content</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>         </span>@arg remaining Any unparsed forms in
the input sequence.)</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>      </span>)<span style='color:#45BBB0'><o:p></o:p></span></p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'>(defn
flow-run [context contents] . . . )</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><o:p>&nbsp;</o:p></p>

</div>

<p class=MsoNormal>You can see a formatted version of this comment <a
href="http://greenh.github.com/CJD/doc/dark/cjd.parser.html#flow-run">here</a>
(or <a href="http://greenh.github.com/CJD/doc/light/cjd.parser.html#flow-run">here</a>,
if you prefer a light background).</p>

<p class=MsoNormal>This isn't the place for describing the gory details of
what's going on here; but several quick thoughts: </p>

<p class=MsoNormal style='margin-left:.8in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .8in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The comment comes <i style='mso-bidi-font-style:
normal'>before</i> the artifact it describes, not in the (yucky) middle, like
docstrings (we stipulate that this is pure undiluted prejudice).</p>

<p class=MsoNormal style='margin-left:.8in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .8in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The forms beginning with <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>@</span></span>
are what CJD uses both for structuring and marking up the comment. These come
both in open—like the <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>@arg</span></span>—and closed—like the <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>@(returns
...)</span></span>—syntactic forms. </p>

<p class=MsoNormal style='margin-left:.8in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .8in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Markup notwithstanding, once you're inside the
CJD comment form, it's possible to write something that pretty closely
resembles ordinary text—though there are situations where escapes are required.
</p>

<p class=MsoNormal style='margin-left:.8in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .8in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Documentation relating to elements of interest
to a reader—like arguments, return values, etc.—is fairly easy to locate. </p>

<p class=MsoNormal style='margin-left:.8in;text-indent:-.25in;mso-list:l0 level1 lfo2;
tab-stops:list .8in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Finally, FWIW, the return value described in the
comment above is a nice example of a recursive documentation structure.</p>

<p class=MsoNormal>For the details, see <a
href="http://greenh.github.com/CJD/doc/User.html">the user guide</a>, which was
laboriously prepared to belabor just that subject. </p>

<h3>Can I put any just old thing in a CJD comment?</h3>

<p class=MsoNormal>Close, but no cigars. There's been a pretty serious effort
to make the source content of CJD comments read more or less like normal text,
and generally speaking most of your literary efforts will fit in pretty much as
you'd ordinarily type them. </p>

<p class=MsoNormal>But, bear in mind the following: <i style='mso-bidi-font-style:
normal'>a CJD comment </i>is<i style='mso-bidi-font-style:normal'> a Clojure
form.</i> It's a commented-out form, to be sure, but a form nonetheless. During
normal program compilation, the Clojure reader will subject this form to all
the scrutiny that it applies to any other form. So, if things that make the
reader go <i style='mso-bidi-font-style:normal'>bang!</i> appear in a CJD
comment, then go <i style='mso-bidi-font-style:normal'>bang!</i> it will.</p>

<p class=MsoNormal>Like, paired characters—parens, brackets, braces, quotes,
etc.—all have to match up correctly, just like in fully compiled forms. Like,
if your comment says &quot;<span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>bear in mind the following:</span></span>&quot;, the reader
will nastily inform you that it really truly does not like colons that occur at
the ends of words. An unescaped semicolon will cause everything to the next
end-of-line to be flushed (which gives rise to the occasionally-useful notion
of commenting out comments). To deal with these and other situations, CJD
supplies several escape mechanisms (see <a
href="http://greenh.github.com/CJD/doc/User.html#comment_content">here</a>).</p>

<p class=MsoNormal>But empirical experience suggests that these little gotchas
don't really interfere with one's ability to write or read more or less
normal-looking text. And after a while, typing stuff like <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>it does
that\; or maybe this\: </span></span>comes to feel perfectly… uh… normal. </p>

<h3>Does CJD insist that I comment everything?</h3>

<p class=MsoNormal>Nope. When it comes to what material you choose to document
for an artifact, CJD is entirely undemanding. If you document a function, say,
you can choose to document all or any or none of the parameters, or to document
the return value—or not. </p>

<p class=MsoNormal>To make this a little more explicit, CJD currently does not
do <i style='mso-bidi-font-style:normal'>any</i> enforcement at all. In some
cases, this may even be a little too much of a good thing: you can document
parameters, for example, that are not actually declared by a function, so
there's nothing to ensure that comment content is in sync with what's being
commented upon. But if you have problems keeping things in sync without a
program holding your hand, you're not gonna cut it as a Clojure programmer
anyway.</p>

<p class=MsoNormal>In general, though, CJD assumes that its users are competent
programmers capable of exercising good judgment about what needs to be
documented and what doesn't. Consequently, CJD will pretty generally gratefully
accept whatever scraps of documentation you feed it.</p>

<h3>What kinds of things can be documented with CJD?</h3>

<p class=MsoNormal>We’ve taken to using the term &quot;artifact&quot; to denote
&quot;a thing that can be documented with CJD&quot;. A first-approximation list
of out-of-the-box artifacts includes pretty much everything in <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>clojure.core</span></span>
that can be created with a <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>def</span></span>-something special form, function, or
macro. So, artifacts defined with <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>def</span></span>, <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>defonce</span></span>,
<span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>defn</span></span>,
<span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>defmacro</span></span>,
<span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>defmulti</span></span>,
<span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>defprotocol</span></span>,
<span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>defrecord</span></span>,
<span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>deftype</span></span>
all work, and probably a few others that don't come to mind at the moment. </p>

<p class=MsoNormal>Some kinds of artifacts have substantial internal
structures—subartifacts—that are sufficiently notable to be worthy of CJD
documentation comments above and beyond their containing structures. Protocols,
for example, have methods, and records and types have method implementations.
In cases such as these, CJD supports comments not only for the artifact as a
whole but for its subartifacts as well.</p>

<p class=MsoNormal>Namespaces are a kind of artifact, too, and can have their
own CJD comments. Finally, a project—or even a collection of projects—doesn't
rate as an artifact per se, but can have usefully an overview comment, too. We
note in this regard that a leiningen<span style='mso-spacerun:yes'>  </span><span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>project.cjd</span></span>
file is a dandy place to store such a thing.</p>

<h3>Can I extend CJD to support the artifacts I've defined?</h3>

<p class=MsoNormal>A first pass at instructions are in the <a
href="http://greenh.github.com/CJD/doc/Extension.html">extension guide</a>. Do
please keep your expectations under control, however. Adding support for
artifacts with no internal structure is very easy. Adding support for increasing
amounts of internal structure—parameters, methods, etc.—is correspondingly more
work. Expect to have to build parsers for the input and HTML generators on the
output side (though you may be able to leverage existing developments in either
case). You may find yourself doing strange things like adding code to support
reflection on your artifacts' structure (been there, done that). None of which
is impossible, of course, or even likely to strain your programming abilities,
but it will feel like real work.</p>

<h3>Can CJD use my existing docstrings in lieu of CJD comments?</h3>

<p class=MsoNormal>If and when popular demand popularly demands it, it'll
probably happen. So far, the author and sole user hasn't popularly demanded it.
The object model and parser already have support wired in, though, so it's
already partly there. </p>

<h3>I think your output format stinks. Can I invent my own? </h3>

<p class=MsoNormal>Knock yerself out, dude. You've got several opportunities.</p>

<p class=MsoNormal>If your concerns are merely surface-cosmetic, like if you
don't like the color scheme, you might get away with just making alterations to
the <span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>.css</span></span>
files. If you've got bigger aspirations…</p>

<p class=MsoNormal>CJD operates in about a two-and-a-half pass fashion, where
the first pass involves reading and parsing input and creation of a rough abstract
syntax tree for the Clojure program per se—or forest, actually, as there's a
tree (shrub, more like) per namespace. This serves as the input to the
HTML-generating back end. CJD comments per se are currently parsed as an
immediate precursor to HTML generation.</p>

<p class=MsoNormal>Which means you could either hack the existing back end
(ugly, but not intractable) or write your own. It wouldn't be hard to improve
on what's there (the author admits his craven incompetence in the area—and
expresses his profound gratitude to <a
href="https://github.com/weavejester/hiccup">Hiccup</a>, which keeps it sane.
Or as sane as it gets…). </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2>… on etc. &amp; misc.</h2>

<h3>What does CJD stand for?</h3>

<p class=MsoNormal>Nothing in particular (although it might possibly have
something to do with <b style='mso-bidi-font-weight:normal'><i
style='mso-bidi-font-style:normal'>C</i></b><i style='mso-bidi-font-style:normal'>lo<b
style='mso-bidi-font-weight:normal'>J</b>ure <b style='mso-bidi-font-weight:
normal'>D</b>ocumentation</i>). Really, it's just a convenient name, and is
definitely not a four-letter word. At least, not yet.</p>

<h3>Do you have any clue as to what CJD <i style='mso-bidi-font-style:normal'>really</i>
stands for?</h3>

<p class=MsoNormal><a
href="http://en.wikipedia.org/wiki/Creutzfeldt-Jakob_disease">Of course</a>.
That knowledge was essential in selecting the name. <a
href="http://en.wikipedia.org/wiki/Bovine_spongiform_encephalopathy">BSE</a>
would arguably have been even more appropriate (not least as a approximation of
the author's mental state), but it's not nearly as Clojure-ish as CJD, so we'll
save it for some future undertaking.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2>... on theological issues</h2>

<h3>You really don't like docstrings, do you?</h3>

<p class=MsoNormal>Docstrings are OK. Really. It's just that they're, um… a
trifle limited. Moreover, if you're coming to Clojure with a Java background,
you may not find them particularly loveable.</p>

<p class=MsoNormal>Actually, docstrings have a perfectly reasonable use case.
If you're plodding along in a REPL and you suddenly find yourself asking
something like, &quot;So, what was the third argument to function <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>xyz</span></span>?&quot;,
you can just type in <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>(doc xyz)</span></span>, and out pops the answer. Or, to put
it another way, docstrings possibly adequate as a sort of aide-mémoire. </p>

<p class=MsoNormal>By stretching things a bit, we might even concede that
they're an adequate documentation form for small functions, such, for example,
as make up the bulk of the <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>clojure.core</span></span> namespace. But the suggestion
about docstrings <a
href="http://clojure.org/special_forms#Special%20Forms--%28def%20symbol%20init?%29">here</a>
(see the <span class=ProgTextChar>:doc</span> bullet)—&quot;a string containing
short (1-3 line) documentation for the var contents&quot;—suggests what feels
like a really appropriate limitation.</p>

<p class=MsoNormal>By the time we get to dealing with an artifact as
complicated as <span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>defrecord</span></span>,
say, we're clearly in a different ballpark. That's a pretty big chunk of
documentation, and there are clearly much larger artifacts out there.</p>

<p class=MsoNormal>Another perceived problem with docstrings is that even when
the information is there, it's not always easy to find. Our poster child
(whipping boy?) for this is the docstring for <span class=ProgTextChar><a
href="http://clojure.github.com/clojure/clojure.core-api.html#clojure.core/reduce"><span
style='border:none windowtext 1.0pt;mso-border-alt:none windowtext 0in;
padding:0in'>reduce</span></a></span>: it's easy enough to conclude that its
first parameter is a function. Now… what are the function's parameters, and in
what order? Well, the information is there; it merely takes a bunch of digging
to extract. Which, after the umpteenth iteration or so not only ceases to be
fun, but is costing a goodly chunk of productivity. Point is, adding some
structure to the documentation and arriving at a more or less consistent
presentation can make life easier for everyone.</p>

<p class=MsoNormal>Aside from all of the foregoing, some of us simply detest
having to write and maintain hand-formatted simple-text-only documentation. And
it has to be expressed as a <i style='mso-bidi-font-style:normal'>string</i>,
forsooth. (The author's reaction on discovering docstrings, incidentally, was,
&quot;Oh, joy. State-of-the-art embedded documentation… for 1985.&quot;*)
Javadoc is arguably a step above this (state-of-the-art for 1995), as it's at
least heard of things like links and emphasis in text and suchlike. So, you can
view CJD as an attempt to propel Clojure's internal documentation capabilities
slightly less far into the past.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>* As it turns out, this off-the-wall snark seems to be
fairly accurate. The 1978 edition of the <a
href="http://www.softwarepreservation.org/projects/LISP/interlisp/Interlisp-Oct_1978.pdf/view">InterLisp
Reference Manual</a> doesn't obviously have anything like doc strings. Common
Lisp, as witnessed by Guy Steele's 1990 <a
href="http://www.amazon.com/Common-LISP-Language-Second-Steele/dp/1555580416/ref=sr_1_4?s=books&amp;ie=UTF8&amp;qid=1324058144&amp;sr=1-4">Common
Lisp: The Language, 2nd Ed.</a>, does.<span style='mso-spacerun:yes'> 
</span>So, 1985 can't be <i style='mso-bidi-font-style:normal'>that</i> far
off.</p>

<h3>Should I feel evil, unclean, or insufficient if I don't like CJD?</h3>

<p class=MsoNormal>Nope. Whatever works for you, my friend. Seriously! We all
have our own preferences, our own experiential history, our own styles, our own
senses of what works and what doesn't, all for our own reasons. Far be it from
us to inflict anything upon you. If docstrings (or whatever else) works for
you, dynamite. This is an engineering exercise, not a religious crusade.</p>

<p class=MsoNormal>CJD was developed with exactly one requirement, which was
satisfy its author's urge to write copious quantities of documentation so that
(1) he has a forum to convince himself that he knows what he's doing, (2) so
that when he dives back into a Clojure project after months (or minutes) away
from it, he has something better than a snowball's chance of recovering a clue
as to what the code was all about, and (3) so he can narcissistically admire
the pretty output. He's magnanimously inflicting CJD on the world at large just
in case there are other unfortunates out there with similar afflictions. If
you're one of these, welcome to the club! If not, it won't be held it against
you.</p>

<h3>So, why didn't you just copy Javadoc?</h3>

<p class=MsoNormal>So, why didn't Clojure just copy Java? Duh! (Sorry, couldn't
resist that.)</p>

<p class=MsoNormal>Javadoc is the (distant) point of departure for CJD—the
inspiration, if you will. Strategically, Javadoc feels like it gets most of the
big-picture things about right—like defining a reasonably structured framework
for commenting, and generating hypertext-based output (this is the Internet
age, after all). </p>

<p class=MsoNormal>Javadoc has lots of little limitations and annoyances. Like,
having to type <span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>&lt;p&gt;</span></span>
to start a paragraph… but <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>@param</span></span> to start a parameter description. Or,
heaven help us, <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>{$link ..whatever..}</span></span> to insert a link (is that
even the right syntax? Can't ever remember…).<span style='mso-spacerun:yes'> 
</span>But that's the petty-annoyance stuff. </p>

<p class=MsoNormal>A few major issues: first, we use editors that are highly
tuned for editing Clojure code. Stands to reason, then, that the documentation
syntax would also be Clojure-ish in form, so our editors can help us out. </p>

<p class=MsoNormal>Second, artifacts arising in Clojure are often recursively
defined. If we define a function, it has parameters and a return value, so we'd
generally expect to document those. Now, what if one of those parameters is
also a function? Being as there are likely very explicit expectations about
that parameter-function's parameters, return value, and behavior, it surely
seems like its required behaviors and parameters and return value ought to be
documented, too. And <i style='mso-bidi-font-style:normal'>that</i> function
might have a parameter that's a function, too… Well, hopefully you get the
point. </p>

<p class=MsoNormal>Same idea applies to data structures, too, and that's a huge
driver here. For our money, Clojure's most remarkable feature is the ability a
programmer gets to <i style='mso-bidi-font-style:normal'>easily structure <u>and</u>
destructure data</i>. Pretty simple, but utterly radical! One important aspect
of this is that it becomes trivially easy to return <i style='mso-bidi-font-style:
normal'>and use</i> multiple values from a function—which capability we use
pervasively, and is arguably the biggest shift in programming style we've dealt
with at least since the rise of object-oriented programming. But effects like
multiple return values merely increase the demand for documentation (like, what
order are a function's return values in? Just like its parameters!), and
documentation structures to support them.</p>

<p class=MsoNormal>Third, syntactically speaking, Java doesn't extend. It
defines a fixed set of stuff—classes, interfaces, enums, and annotations—and
that's the sum total of all she wrote, period, finis, requiescat in pace, amen.
Clojure, however, has macros, and macros can spawn all sorts of fun new
artifacts, any of which may have their own needs and aspirations when it comes
to documentation. From this it follows that CJD needs to extensible as well.
Like, if your program has a <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>defwhatsit</span></span> macro and you're creating <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>whatsit</span></span>
thingies all over the place, then CJD needs to be able to allow you to add the
wherewithal to generate pretty documentation for your <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>whatsits</span></span> as
such.<span style='mso-spacerun:yes'>  </span></p>

<p class=MsoNormal>Bottom line here is that Javadoc feels like a reasonable
point of departure, but CJD follows its own path from there.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=center style='margin-left:-4.5pt;text-align:center'>Copyright
(c) 2012 Howard Green. All rights reserved.<b style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:0in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
