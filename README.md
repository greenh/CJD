# CJD

CJD is a system for documenting Clojure programs through the use of structured 
comments embedded in Clojure source code. As such, it's a supplement to or replacement
for the docstring mechanism. 

CJD was inspired by Javadoc, to which it bears superficial similarity. Like Javadoc,
CJD-comments support a simple form of markup. This allows CJD's processing facility
to extract the documentation content from collections of Clojure namespaces and convert 
it into trees of consistently-formatted HTML documents. 

CJD goes fair ways beyond Javadoc, though. Specifically, CJD: 

* Structures comments and markup in terms of well-defined Clojure forms, allowing 
structure-sensitive editors to be used to good advantage.

* Incorporates a recursively-defined documentation syntax that allows 
of Clojure's recursively-defined data structures and functions 
to be documented to whatever depth is needful.

* Provides support for documenting most core Clojure artifacts (vars, functions,
macros, protocols, records, etc.), and provides facilities for extending CJD to
allow documentation of user-defined artifacts.  

* Does not insist on completeness --- what does and doesn't get documented,
and to what extent, is entirely at the developer's discretion.

So, what does a CJD comment look like? Here's a randomly selected function
from the CJD source to give you a taste:

	#_ (* Processes a sequence of CJD comment-content forms into a 
	      sequence of flow-forms, which will in turn contain phrasing 
	      and text content.
	      @arg context The context map.
	      @arg contents A sequence of input forms to be parsed.
	      @(returns A tuple of the form @(form [flows remaining]),
		    where\: 
	        @arg flows A sequence of flow nodes describing the  
	        parsed content
	        @arg remaining Any unparsed forms in the input sequence.)
	      )
	(defn flow-run [context contents] . . . )

And if you'd like to see the corresponding generated output, you get your choice of
[dark-background](http://greenh.github.com/CJD/doc/dark/cjd.parser.html#flow-run) and
[light-background](http://greenh.github.com/CJD/doc/dark/cjd.parser.html#flow-run)
renderings.

The CJD source is itself extensively commented using CJD. You can view the full CJD 
documentation tree 
from the top in both [dark-background](http://greenh.github.com/CJD/doc/dark/index.html) 
and [light-background](http://greenh.github.com/CJD/doc/light/index.html) forms.

For a description of how to [user guide](http://greenh.github.com/CJD/doc/User.html).
For a not-terribly-reverent introduction to CJD, [try the FAQ](http://greenh.github.com/CJD/doc/FAQ.html).

## Documentation
Several documents are in the making:

* A [user guide](http://greenh.github.com/CJD/doc/User.html), which attempts to explain 
how to obtain, use, and customize CJD. It's still a work in progress, so beware.

* A [quick reference](http://greenh.github.com/CJD/doc/QuickRef.html) to CJD markup
elements. 

* A [FAQ](http://greenh.github.com/CJD/doc/FAQ.html), which discusses 
what CJD is and does, and how it managed to get there.

* CJD's program documentation, as generated by CJD, in your choice of 
[dark background](http://greenh.github.com/CJD/doc/dark/index.html) or 
[light background](http://greenh.github.com/CJD/doc/light/index.html).

## Status

The current version 
 

* Currently tested only with Clojure 1.4.0, but has historically worked with 1.2.1 and 1.3.0.

* Requires Java 6 or above.

* Currently tested with Leiningen 2.x only. Lein 1.x support is still there and even might work.

 
## License

Copyright (c) 2011-2012 Howard Green. All rights reserved.
            
The use and distribution terms for this software are covered by the
Eclipse Public License 1.0 (http://opensource.org/licenses/eclipse-1.0.php)
which can be found in the file epl-v10.html at the root of this distribution.
By using this software in any fashion, you are agreeing to be bound by
the terms of this license.
 
You must not remove this notice, or any other, from this software.