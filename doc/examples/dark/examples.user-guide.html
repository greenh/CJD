<!DOCTYPE html>
<html><head><meta charset="ISO-8859-1"><title>CJD user guide examples &ndash; examples.user-guide</title><link href="cjd.css" rel="stylesheet" type="text/css" /></head><body><div id="top"></div><div class="leader"><table><tbody><tr><td width="100%"><td align="right"><a href="index.html"><span class="headlink">Index</span></a></td></tr></tbody></table></div><div class="ns">examples.user-guide</div><div class="desc"><p>This is a collection of examples of CJD-based documentation. Most of the contents here have starring roles in the CJD user guide. </p><p>The examples here are purely for explanatory purposes, and attempts to actually run them may prove hazardous to your health.</p></div><div class="desc"><table class="summary"><tbody><tr><td colspan="2"><p class="sum-hdr">Function/Macro Summary</p></td></tr><tr class="sum"><td><a href="#average">average</a></td><td><div class="blurb">Returns the average of the values in a min / max tuple. </div></td></tr><tr class="sum"><td><a href="#count">count</a></td><td><div class="blurb">Returns the number of items in a collection. </div></td></tr><tr class="sum"><td><a href="#destructed-fn">destructed&#8209;fn</a></td><td><div class="blurb">Illustration of documenting destructuring </div></td></tr><tr class="sum"><td><a href="#generate-curve">generate&#8209;curve</a></td><td><div class="blurb">Generates a curve through a set of points. </div></td></tr><tr class="sum"><td><a href="#minmax">minmax</a></td><td><div class="blurb">Computes the min and max values of a collection. </div></td></tr><tr class="sum"><td><a href="#recursive-nonsense">recursive&#8209;nonsense</a></td><td><div class="blurb">Illustrates really really recursive data documentation. </div></td></tr><tr class="sum"><td><a href="#reduce">reduce</a></td><td><div class="blurb">Generates and returns a single value by applying a function to the elements of a collection. </div></td></tr><tr class="sum"><td><a href="#reduce1">reduce1</a></td><td><div class="blurb">Generates and returns a single value by applying a function to the elements of a collection. </div></td></tr><tr class="sum"><td><a href="#reduce2">reduce2</a></td><td><div class="blurb">Generates and returns a single value by applying a function to the elements of a collection. </div></td></tr><tr class="sum"><td><a href="#reduce3">reduce3</a></td><td><div class="blurb">Generates and returns a single value by applying a function to the elements of a collection. </div></td></tr><tr class="sum"><td><a href="#structured-fn">structured&#8209;fn</a></td><td><div class="blurb">Examples of documentation for structured data. </div></td></tr><tr class="sum"><td><a href="#substitute-stuff">substitute&#8209;stuff</a></td><td><div class="blurb">Replaces words in source files with alternative words. </div></td></tr><tr class="sum"><td><a href="#xyz-abc">xyz&#8209;abc</a></td><td><div class="blurb">This is documentation for function <span class="n0">xyz-abc</span>. It lazily relies on <span class="nolink">xyz-zyx</span> to do its work for it.</div></td></tr><tr class="sum"><td><a href="#xyz-zyx">xyz&#8209;zyx</a></td><td><div class="blurb">Does something remarkable with <span class="nolink">xyz-abc</span>.</div></td></tr><tr><td colspan="2"><p class="sum-hdr">Protocol Summary</p></td></tr><tr class="sum"><td><a href="#MisFile">MisFile</a></td><td><div class="blurb">Protocol describing a <i>misfiles</i>, a class of objects for doing stochastically successful I / O.</div></td></tr><tr><td colspan="2"><p class="sum-hdr">Objects Summary</p></td></tr><tr class="sum"><td><a href="#MisFiler">MisFiler</a></td><td><div class="blurb">Misimplementation of the <a href="#MisFile">MisFile</a> protocol. </div></td></tr></tbody></table></div><div class="artifact" id="average"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L192">average</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">average</span> [<span class="n1">min&#8209;max</span>])</span></p><div class="desc"><p>Returns the average of the values in a min / max tuple. </p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">min&#8209;max</span> &mdash; A tuple of the form <code>[<span class="n2">minval</span> <span class="n2">maxval</span>]</code>, where </p><div class="s"><p class="a"><span class="n2">minval</span> &mdash; A number representing a minimum value. </p><p class="a"><span class="n2">maxval</span> &mdash; A number representing a maximim value.</p></div></div><div><p class="i1"><span class="k1">Returns</span></p><p>The average of <span class="n2">minval</span> and <span class="n2">maxval</span>.</p></div></div></div><div class="artifact" id="count"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L19">count</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">count</span> [<span class="n1">coll</span>])</span></p><div class="desc"><p>Returns the number of items in a collection. </p><p><span class="n0">count</span> works regardless of whether <span class="n1">coll</span> is a set, vector, list, map, or string. </p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">coll</span> &mdash; The collection to count. </p></div><div><p class="i1"><span class="k1">Returns</span></p><p>The number of elements in <span class="n1">coll</span>. Returns 0 if <span class="n1">coll</span> is nil. </p></div><div><p class="i1"><span class="k1">Since </span></p><p>Clojure 1.0, or maybe even before.</p></div></div></div><div class="artifact" id="destructed-fn"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L278">destructed-fn</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">destructed&#8209;fn</span> [[[<span class="n3">a</span> <span class="n3">b</span> :as <span class="n2">p1&#8209;1</span>] <span class="n2">c</span> &amp; <span class="n2">ds</span> :as <span class="n1">p1</span>] [<span class="n1">e</span> <span class="n1">f</span>] {<span class="n2">x</span> <span class="n2">:xx</span> <span class="n2">y</span> <span class="n2">:yy</span> :as <span class="n1">p2</span>}])</span></p><div class="desc"><p>Illustration of documenting destructuring </p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">p1</span> &mdash; The first argument. </p><div class="s"><p class="a"><span class="n2">p1&#8209;1</span> &mdash; The first element element of <span class="n1">p1</span>. </p><div class="s"><p class="a"><span class="n3">a</span> &mdash; The first element of <span class="n2">p1-1</span>. </p><p class="a"><span class="n3">b</span> &mdash; The second element of <span class="n2">p1-1</span>.</p></div><p class="a"><span class="n2">c</span> &mdash; The second element of <span class="n1">p1</span>. </p><p class="a"><span class="n2">ds</span> &mdash; Any remaining elements of <span class="n1">p1</span>,</p></div><p class="a1"><span class="n1">e</span> &mdash; First element of the unnamed second parameter. </p><p class="a1"><span class="n1">f</span> &mdash; Second element of the unnamed second parameter. </p><p class="a1"><span class="n1">p2</span> &mdash; The map of options or whatever. </p><div class="s"><p class="a"><span class="n2">:xx</span><span class="expr"> <span class="n2">x</span></span> &mdash; Value of the <span class="n2">:xx</span> key in <span class="n1">p2</span>. </p><p class="a"><span class="n2">:yy</span><span class="expr"> <span class="n2">y</span></span> &mdash; Value of the <span class="n2">:yy</span> key in <span class="n1">p2</span>.</p></div></div><div><p class="i1"><span class="k1">Returns</span></p><p>A tuple of the form <code>[<span class="n2">aa</span> <span class="n2">bb</span> <span class="n2">cc</span>]</code>, where: </p><div class="s"><p class="a"><span class="n2">aa</span> &mdash; The first element of the tuple. </p><p class="a"><span class="n2">bb</span> &mdash; The second element of the tuple. </p><p class="a"><span class="n2">cc</span> &mdash; The third element of the tuple.</p></div></div></div></div><div class="artifact" id="generate-curve"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L221">generate-curve</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">generate&#8209;curve</span> [<span class="n1">curvespec</span>])</span></p><div class="desc"><p>Generates a curve through a set of points. </p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">curvespec</span> &mdash; A structure of the form <code>[<span class="n2">points</span> <span class="n2">weight</span> <span class="n2">color</span>]</code>, where </p><div class="s"><p class="a"><span class="n2">points</span> &mdash; A sequence of tuples of the form <code>[<span class="n3">x</span> <span class="n3">y</span> <span class="n3">z</span>]</code>, where </p><div class="s"><p class="a"><span class="n3">x</span> &mdash; The x-coordinate. </p><p class="a"><span class="n3">y</span> &mdash; The y-coordinate. </p><p class="a"><span class="n3">z</span> &mdash; The z-coordinate.</p></div><p class="a"><span class="n2">weight</span> &mdash; The weight of the curve. </p><p class="a"><span class="n2">color</span> &mdash; Describes the color to use, which can be any of the following: </p><ul><li><p>A string containing the name of the color for the curve. </p></li><li><p>A tuple of the form <code>[<span class="n5">r</span> <span class="n5">g</span> <span class="n5">b</span>]</code>, where </p><div class="s"><p class="a"><span class="n5">r</span> &mdash; The red value. </p><p class="a"><span class="n5">g</span> &mdash; THe green value. </p><p class="a"><span class="n5">b</span> &mdash; The blue value.</p></div></li><li><p>A tuple of the form <code>[<span class="n5">h</span> <span class="n5">s</span> <span class="n5">l</span>]</code>, with </p><div class="s"><p class="a"><span class="n5">h</span> &mdash; The hue value. </p><p class="a"><span class="n5">s</span> &mdash; The saturation value. </p><p class="a"><span class="n5">l</span> &mdash; The luminance value.</p></div></li></ul></div></div><div><p class="i1"><span class="k1">Returns</span></p><p>A sequence of projected points of the form <code>[<span class="n2">x</span> <span class="n2">y</span>]</code>, where </p><div class="s"><p class="a"><span class="n2">x</span> &mdash; The projected x-coordinate. </p><p class="a"><span class="n2">y</span> &mdash; The projected y-coordinate.</p></div></div></div></div><div class="artifact" id="minmax"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L183">minmax</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">minmax</span> [<span class="n1">coll</span>])</span></p><div class="desc"><p>Computes the min and max values of a collection. </p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">coll</span> &mdash; A collection of numbers. </p></div><div><p class="i1"><span class="k1">Returns</span></p><p>A tuple of the form <code>[<span class="n2">minval</span> <span class="n2">maxval</span>]</code>, where: </p><div class="s"><p class="a"><span class="n2">minval</span> &mdash; The minimum value of <span class="n1">coll</span>. </p><p class="a"><span class="n2">maxval</span> &mdash; The maximim value of <span class="n1">coll</span>.</p></div></div></div></div><div class="artifact" id="MisFile"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L341">MisFile</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defprotocol">defprotocol</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><div class="desc"><p>Protocol describing a <i>misfiles</i>, a class of objects for doing stochastically successful I / O.</p><div class="s1"><p class="v1"><span class="k1">Methods</span></p><div id="misopen"></div><p class="a1"><span class="expr">(<span class="n0">misopen</span> [this])</span></p><p>Opens the misfile. </p><div class="s"><p class="a"><span class="k">Returns</span> &mdash; Zero, if the misfile might have been opened.</p></div><div id="misread"><p class="a1"><span class="expr">(<span class="n0">misread</span> [this <span class="n2">dest</span> <span class="n2">bytes</span>])</span></p></div><p class="a1"><span class="expr">(<span class="n0">misread</span> [this <span class="n2">start</span> <span class="n2">dest</span> <span class="n2">bytes</span>])</span></p><p>Misreads a <a href="#MisFile">MisFile</a>. </p><div class="s"><p class="a"><span class="n2">dest</span> &mdash; Destination buffer for misread data. </p><p class="a"><span class="n2">bytes</span> &mdash; The number of bytes to misread. </p><p class="a"><span class="n2">start</span> &mdash; </p></div><div class="s"><p class="a"><span class="k">Returns</span> &mdash; The number of bytes actually misread.</p></div><div id="miswrite"><p class="a1"><span class="expr">(<span class="n0">miswrite</span> [this <span class="n2">source</span> <span class="n2">bytes</span>])</span></p></div><p class="a1"><span class="expr">(<span class="n0">miswrite</span> [this <span class="n2">source</span> <span class="n2">start</span> dest <span class="n2">bytes</span>])</span></p><p>Miswrites a <a href="#MisFile">MisFile</a>. </p><div class="s"><p class="a"><span class="n2">source</span> &mdash; Source buffer for data to miswrite. </p><p class="a"><span class="n2">bytes</span> &mdash; The number of bytes to miswrite. </p><p class="a"><span class="n2">start</span> &mdash; When specified, specifies the location to miswrite to. </p></div><div class="s"><p class="a"><span class="k">Returns</span> &mdash; The number of bytes actually miswritten.</p></div><div id="misclose"></div><p class="a1"><span class="expr">(<span class="n0">misclose</span> [this])</span></p><p>Stochastically closes the <a href="#MisFile">MisFile</a>, and possibly misplaces it, too.</p></div></div></div><div class="artifact" id="MisFiler"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L365">MisFiler</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defrecord">defrecord</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">MisFiler</span> [<span class="n1">path</span> <span class="n1">file</span>])</span></p><div class="desc"><p>Misimplementation of the <a href="#MisFile">MisFile</a> protocol. </p><div class="s1"><p class="v1"><span class="k1">Fields</span></p><p class="a1"><span class="n1">file</span> &mdash; The underlying <a href="http://download.oracle.com/javase/7/docs/api/java/io/File.html">File</a> object. </p><p class="a1"><span class="n1">path</span> &mdash; A string, the path name of the <span class="nolink">MisFiler</span> object.</p></div><div class="s1"><p class="v1"><span class="k1">Implemented protocols and interfaces</span></p><p><a href="#MisFile">MisFile</a>&ensp; </p></div><div class="s1"><p class="v1"><span class="k1">Methods</span></p><p class="a1"><span class="expr" id="MisFiler/misclose">(<span class="n0">misclose</span> [this])</span> &mdash; Stochastically closes the <a href="#MisFile">MisFile</a>, and possibly misplaces it, too.</p><div class="desc"></div><p class="a1"><span class="expr" id="MisFiler/misread">(<span class="n0">misread</span> [this dest bytes])</span></p><p class="a1"><span class="expr" id="MisFiler/misread">(<span class="n0">misread</span> [this start dest bytes])</span></p><p class="a1"><span class="expr" id="MisFiler/miswrite">(<span class="n0">miswrite</span> [this source bytes])</span> &mdash; Miswrites a <a href="#MisFile">MisFile</a>. </p><div class="desc"><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">dest</span> &mdash; Source buffer for data to miswrite. </p><p class="a1"><span class="n1">byte</span> &mdash; The number of bytes to miswrite. </p><p class="a1"><span class="n1">start</span> &mdash; When specified, specifies the location to miswrite to. </p></div><div><p class="i1"><span class="k1">Returns</span></p><p>The number of bytes actually miswritten.</p></div></div><p class="a1"><span class="expr" id="MisFiler/miswrite">(<span class="n0">miswrite</span> [this start dest bytes])</span></p></div></div></div><div class="artifact" id="recursive-nonsense"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L303">recursive-nonsense</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">recursive&#8209;nonsense</span> [<span class="n1">a</span> <span class="n1">aa</span>])</span></p><div class="desc"><p>Illustrates really really recursive data documentation. </p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">a</span> &mdash; A sequence of the form <code>[<span class="n2">b</span> <span class="n2">bb</span>]</code>, where </p><div class="s"><p class="a"><span class="n2">b</span> &mdash; A tuple of the form <code>[<span class="n3">c</span> <span class="n3">cc</span>]</code>, where </p><div class="s"><p class="a"><span class="n3">c</span> &mdash; A collection of form <code>[<span class="n4">d</span> <span class="n4">dd</span>]</code>, where </p><div class="s"><p class="a"><span class="n4">d</span> &mdash; A collection of form <code>[<span class="n5">e</span> <span class="n5">ee</span>]</code>, where </p><div class="s"><p class="a"><span class="n5">e</span> &mdash; A collection of form <code>[<span class="n6">f</span> <span class="n6">ff</span>]</code>, where </p><div class="s"><p class="a"><span class="n6">f</span> &mdash; A collection of form <code>[<span class="n7">g</span> <span class="n7">gg</span>]</code>, where </p><div class="s"><p class="a"><span class="n7">g</span> &mdash; A collection of form <code>[<span class="n8">h</span> <span class="n8">hh</span>]</code>, where </p><div class="s"><p class="a"><span class="n8">h</span> &mdash; Some old value. </p><p class="a"><span class="n8">hh</span> &mdash; A value somewhat more or less than <span class="n4">dd</span>.</p></div><p class="a"><span class="n7">gg</span> &mdash; A random value.</p></div><p class="a"><span class="n6">ff</span> &mdash; <i>e</i><sup>&ndash; <i>i</i>&pi;</sup>.</p></div><p class="a"><span class="n5">ee</span> &mdash; A random value.</p></div><p class="a"><span class="n4">dd</span> &mdash; Another random value.</p></div><p class="a"><span class="n3">cc</span> &mdash; An integer, which must be set to -1.</p></div><p class="a"><span class="n2">bb</span> &mdash; Any old value.</p></div><p class="a1"><span class="n1">aa</span> &mdash; Occasionally equal to &pi;. </p></div><div><p class="i1"><span class="k1">Returns</span></p><p>0, unless the moon is full, in which case it returns the sum of <span class="n1">aa</span>, <span class="n2">bb</span>, <span class="n3">cc</span>, <span class="n4">dd</span>, <span class="n5">ee</span>, <span class="n6">ff</span>, <span class="n7">gg</span>, and <span class="n8">hh</span>.</p></div></div></div><div class="artifact" id="reduce"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L44">reduce</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">reduce</span> [<span class="n1">f</span> <span class="n1">val</span> <span class="n1">coll</span>])</span></p><div class="desc"><p>Generates and returns a single value by applying a function to the elements of a collection. </p><p><span class="n0">reduce</span> internally maintains a value that serves as an &quot;accumulator&quot;, which is initialized to <span class="n1">val</span>. Then, <span class="n0">reduce</span> calls the function <span class="n1">f</span> once for each element of <span class="n1">coll</span>, passing to it the current accumulator value and the next element of <span class="n1">coll</span>. <span class="n0">reduce</span> then updates the accumulator with the value returned by <span class="n1">f</span>. When <span class="n1">f</span> has been called with all elements in <span class="n1">coll</span>, <span class="n0">reduce</span> returns the final value of the accumulator. </p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">f</span> &mdash; A function of the form <code>(<span class="fn">fn</span> [<span class="n2">acc</span> <span class="n2">element</span>])</code>, where </p><div class="s"><p class="a"><span class="n2">acc</span> &mdash; The accumulator value, which is <span class="n1">val</span> on the first call to <span class="n1">f</span>, or the result of the prior call to <span class="n1">f</span> on subsequent calls.</p><p class="a"><span class="n2">element</span> &mdash; The next unprocessed element of <span class="n1">coll</span>.</p></div><div class="s"><p class="a"><span class="k">Returns</span> &mdash; The updated accumulator value.</p></div><p class="a1"><span class="n1">val</span> &mdash; An initial value for the accumulator. </p><p class="a1"><span class="n1">coll</span> &mdash; A collection of elements. </p></div><div><p class="i1"><span class="k1">Returns</span></p><p>The value returned by the final call to <span class="n1">f</span>. If <span class="n1">coll</span> is empty, returns <span class="n1">val</span>.</p></div></div></div><div class="artifact" id="reduce1"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L76">reduce1</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">reduce1</span> [<span class="n1">f</span> col])</span></p><p class="decl"><span class="expr">(<span class="n0">reduce1</span> [<span class="n1">f</span> <span class="n1">val</span> col])</span></p><div class="desc"><p>Generates and returns a single value by applying a function to the elements of a collection. </p><p><span class="n0">reduce1</span> internally maintains a value that serves as an &quot;accumulator&quot;. The accumulator's initial value is the first element of <span class="n1">coll</span> in the two-argument form of reduce, or <span class="n1">val</span> in the three-element form. Then, <span class="n0">reduce1</span> calls the function <span class="n1">f</span> once for each subsequent element of <span class="n1">coll</span>, passing to it the current accumulator value and the next element of <span class="n1">coll</span>, and each time updating the accumulator with the value <span class="n1">f</span> returns. When <span class="n1">f</span> has been called with all elements in <span class="n1">coll</span>, <span class="n0">reduce1</span> returns the final value of the accumulator. </p><p>In the two-argument form, if <span class="n1">coll</span> is empty, <span class="n0">reduce1</span> calls <span class="n1">f</span> with no arguments, and <span class="n1">f</span> must therefore have a zero-argument form. If <span class="n1">coll</span> has exactly one element, <span class="n0">reduce1</span> returns it without calling <span class="n1">f</span>. Similarly, in the three-argument form, if <span class="n1">coll</span> is empty, <span class="n0">reduce1</span> returns <span class="n1">val</span> without calling <span class="n1">f</span>. </p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">f</span> &mdash; A function of the form <code>(<span class="fn">fn</span> [<span class="n2">acc</span> <span class="n2">element</span>])</code>, where </p><div class="s"><p class="a"><span class="n2">acc</span> &mdash; The &quot;accumulator&quot; value, which is either <span class="n1">val</span> or the first element of <span class="n1">coll</span> on the first call to <span class="n1">f</span> as described above, or the result of the prior call to <span class="n1">f</span> on subsequent calls.</p><p class="a"><span class="n2">element</span> &mdash; The next unprocessed element of <span class="n1">coll</span>.</p></div><div class="s"><p class="a"><span class="k">Returns</span> &mdash; The next &quot;accumulator&quot; value.</p></div><p class="a1"><span class="n1">val</span> &mdash; An initial value for the &quot;accumulator&quot;. </p><p class="a1"><span class="n1">coll</span> &mdash; A collection of elements. </p></div><div><p class="i1"><span class="k1">Returns</span></p><p>The value of the &quot;accumulator&quot; after the final call to <span class="n1">f</span>.</p></div></div></div><div class="artifact" id="reduce2"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L115">reduce2</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">reduce2</span> [<span class="n1">f</span> col])</span></p><p class="decl"><span class="expr">(<span class="n0">reduce2</span> [<span class="n1">f</span> <span class="n1">val</span> col])</span></p><div class="desc"><p>Generates and returns a single value by applying a function to the elements of a collection. </p><p><span class="n0">reduce2</span> internally maintains a value that serves as an &quot;accumulator&quot;. The accumulator's initial value is the first element of <span class="n1">coll</span> in the two-argument form of reduce, or <span class="n1">val</span> in the three-element form. Then, <span class="n0">reduce2</span> calls the function <span class="n1">f</span> once for each subsequent element of <span class="n1">coll</span>, passing to it the current accumulator value and the next element of <span class="n1">coll</span>, and each time updating the accumulator with the value <span class="n1">f</span> returns. When <span class="n1">f</span> has been called with all elements in <span class="n1">coll</span>, <span class="n0">reduce2</span> returns the final value of the accumulator. </p><p>In the two-argument form: </p><ul><li><p>if <span class="n1">coll</span> is empty, <span class="n0">reduce2</span> calls <span class="n1">f</span> with no arguments, and <span class="n1">f</span> must therefore have a zero-argument form.</p></li><li><p>If <span class="n1">coll</span> has exactly one element, <span class="n0">reduce2</span> returns it without calling <span class="n1">f</span>.</p></li></ul><p>In the three-argument form: </p><ul><li><p>if <span class="n1">coll</span> is empty, <span class="n0">reduce2</span> returns <span class="n1">val</span> without calling <span class="n1">f</span>.</p></li></ul><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">f</span> &mdash; A function of the form <code>(<span class="fn">fn</span> [<span class="n2">acc</span> <span class="n2">element</span>])</code>, where </p><div class="s"><p class="a"><span class="n2">acc</span> &mdash; The &quot;accumulator&quot; value, which is either <span class="n1">val</span> or the first element of <span class="n1">coll</span> on the first call to <span class="n1">f</span> as described above, or the result of the prior call to <span class="n1">f</span> on subsequent calls.</p><p class="a"><span class="n2">gloopy&#8209;doop</span> &mdash; Something bogus.</p><p class="a"><span class="n2">element</span> &mdash; The next unprocessed element of <span class="n1">coll</span>.</p></div><div class="s"><p class="a"><span class="k">Returns</span> &mdash; The next &quot;accumulator&quot; value.</p></div><p class="a1"><span class="n1">val</span> &mdash; An initial value for the &quot;accumulator&quot;. </p><p class="a1"><span class="n1">coll</span> &mdash; A collection of elements. </p></div><div><p class="i1"><span class="k1">Returns</span></p><p>The value of the &quot;accumulator&quot; after the final call to <span class="n1">f</span>.</p></div></div></div><div class="artifact" id="reduce3"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L172">reduce3</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">reduce3</span> [<span class="n1">f</span> col])</span></p><p class="decl"><span class="expr">(<span class="n0">reduce3</span> [<span class="n1">f</span> <span class="n1">val</span> col])</span></p><div class="desc"><p>Generates and returns a single value by applying a function to the elements of a collection. </p><p><span class="n0">reduce3</span> internally maintains a value that serves as an &quot;accumulator&quot;. The accumulator's initial value is the first element of <span class="n1">coll</span> in the two-argument form of reduce, or <span class="n1">val</span> in the three-element form. Then, <span class="n0">reduce3</span> calls the function <span class="n1">f</span> once for each subsequent element of <span class="n1">coll</span>, passing to it the current accumulator value and the next element of <span class="n1">coll</span>, and each time updating the accumulator with the value <span class="n1">f</span> returns. When <span class="n1">f</span> has been called with all elements in <span class="n1">coll</span>, <span class="n0">reduce3</span> returns the final value of the accumulator. </p><p>In the two-argument form: </p><ul><li><p>if <span class="n1">coll</span> is empty, <span class="n0">reduce3</span> calls <span class="n1">f</span> with no arguments, and <span class="n1">f</span> must therefore have a zero-argument form.</p></li><li><p>If <span class="n1">coll</span> has exactly one element, <span class="n0">reduce3</span> returns it without calling <span class="n1">f</span>.</p></li></ul><p>In the three-argument form: </p><ul><li><p>if <span class="n1">coll</span> is empty, <span class="n0">reduce3</span> returns <span class="n1">val</span> without calling <span class="n1">f</span>.</p></li></ul><p>Examples <div class="spacer"><pre class="u"><span class="prompt">user=&gt; </span>(reduce + [1 2 3 4 5])</pre><pre class="r">15</pre><pre class="u"><span class="prompt">user=&gt; </span>(reduce + [])</pre><pre class="r">0</pre><pre class="u"><span class="prompt">user=&gt; </span>(reduce + 1 [])</pre><pre class="r">1</pre><pre class="u"><span class="prompt">user=&gt; </span>(reduce + 1 [2 3])</pre><pre class="r">6</pre><pre class="u"><span class="prompt">user=&gt; </span>(reduce conj [1 2 3] [4 5 6]</pre><pre class="r">[1 2 3 4 5 6]</pre><pre class="u"><span class="prompt">user=&gt; </span>(reduce
         (fn [primes number]
             (if (some zero? (map (partial mod number) primes))
                 primes
                 conj primes number)))
              [2]
              (take 100 (iterate inc 3)))</pre><pre class="r">[2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97]</pre></div></p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">f</span> &mdash; A function of the form <code>(<span class="fn">fn</span> [<span class="n2">acc</span> <span class="n2">element</span>])</code>, where </p><div class="s"><p class="a"><span class="n2">acc</span> &mdash; The &quot;accumulator&quot; value, which is either <span class="n1">val</span> or the first element of <span class="n1">coll</span> on the first call to <span class="n1">f</span> as described above, or the result of the prior call to <span class="n1">f</span> on subsequent calls.</p><p class="a"><span class="n2">element</span> &mdash; The next unprocessed element of <span class="n1">coll</span>.</p></div><div class="s"><p class="a"><span class="k">Returns</span> &mdash; The next &quot;accumulator&quot; value.</p></div><p class="a1"><span class="n1">val</span> &mdash; An initial value for the &quot;accumulator&quot;. </p><p class="a1"><span class="n1">coll</span> &mdash; A collection of elements. </p></div><div><p class="i1"><span class="k1">Returns</span></p><p>The value of the &quot;accumulator&quot; after the final call to <span class="n1">f</span>.</p></div></div></div><div class="artifact" id="structured-fn"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L253">structured-fn</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">structured&#8209;fn</span> [<span class="n1">p1</span> <span class="n1">p2</span> <span class="n1">test&#8209;fn</span>])</span></p><div class="desc"><p>Examples of documentation for structured data. </p><p>We can talk about a function of the form <code>(<span class="fn">fn</span> [<span class="n2">e</span> <span class="n2">q</span>])</code> where </p><div class="s"><p class="a"><span class="n2">e</span> &mdash; Describes some pecularity. </p><p class="a"><span class="n2">q</span> &mdash; Is something else. </p></div><div class="s"><p class="a"><span class="k">Returns</span> &mdash; Nothing of import. </p></div><p>and then nothing happens.</p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">p1</span> &mdash; The first parameter, which should have the form <code>[[<span class="n2">a</span> <span class="n2">b</span>] <span class="n2">c</span> &amp; <span class="n2">ds</span>]</code>, where </p><div class="s"><p class="a"><span class="n2">a</span> &mdash; The first element of the first element of <span class="n1">p1</span>. </p><p class="a"><span class="n2">b</span> &mdash; The second element of the first element of <span class="n1">p1</span>. </p><p class="a"><span class="n2">c</span> &mdash; The second element of <span class="n1">p1</span>. </p><p class="a"><span class="n2">ds</span> &mdash; Any remaining elements of <span class="n1">p1</span>.</p></div><p class="a1"><span class="n1">p2</span> &mdash; Another parameter, which should be a map. Options of interest include: </p><div class="s"><p class="a"><span class="n2">:xx</span> &mdash; The value for <span class="n2">:xx</span>. </p><p class="a"><span class="n2">:yy</span> (default: <span class="expr">"abc"</span>) &mdash; The value for <span class="n2">:yy</span>, which has a default value of &quot;abc&quot;.</p></div><p class="a1"><span class="n1">test&#8209;fn</span> &mdash; A function of the form <code>(<span class="fn">fn</span> [<span class="n2">xx</span>])</code>, where </p><div class="s"><p class="a"><span class="n2">xx</span> &mdash; A tuple of the form <code>[<span class="n3">t1</span> <span class="n3">t2</span>]</code>, where: </p><div class="s"><p class="a"><span class="n3">t1</span> &mdash; The first element. </p><p class="a"><span class="n3">t2</span> &mdash; The second element.</p></div></div><div class="s"><p class="a"><span class="k">Returns</span> &mdash; True, if <span class="n2">xx</span> is suitably wonderful.</p></div></div><div><p class="i1"><span class="k1">Returns</span></p><p>If the approved by <span class="n1">test-fn</span>, a collection tuples of the form <code>[<span class="n2">aa</span> <span class="n2">bb</span>]</code>, where: </p><div class="s"><p class="a"><span class="n2">aa</span> &mdash; The first element of the tuple. </p><p class="a"><span class="n2">bb</span> &mdash; The second element of the tuple. </p></div><p>Otherwise, returns nil.</p></div></div></div><div class="artifact" id="substitute-stuff"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L337">substitute-stuff</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">substitute&#8209;stuff</span> [<span class="n1">from&#8209;to</span> <span class="n1">opts</span>])</span></p><div class="desc"><p>Replaces words in source files with alternative words. </p><p><span class="n0">substitute-stuff</span> processes each file given by the <span class="n2">:source</span> option of <span class="n1">opts</span>. For each word in a file, <span class="n0">substitute-stuff</span> checks to see if there's a substitute word in <span class="n1">from-to</span>. If it finds a substitute word, it replaces that word with its substitute. As it completes each file, <span class="n0">substitute-stuff</span> writes the substituted file to the location specified by <span class="n2">:dest</span> option of <span class="n1">opts</span>. </p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">from&#8209;to</span> &mdash; A map where each key is a string representing a word to look for, and its corresponding value is a string containing the substitute word.</p><p class="a1"><span class="n1">opts</span> &mdash; A map containing options, which may include any combination of: </p><div class="s"><p class="a"><span class="n2">:source</span> &mdash; A collection of strings containing path names of source directories or files. </p><p class="a"><span class="n2">:dest</span> &mdash; A string containing the pathname of the destination. </p><p class="a"><span class="n2">:v</span> &mdash; Sets the disposition of different kinds output. Value is a map mapping output types to levels. </p><p>Output levels are defined as follows: </p><div class="s"><p class="a"><span class="n3">:off</span> &mdash; Turns output off. </p><p class="a"><span class="n3">:on</span> &mdash; Sends output to stdout. </p><p class="a"><span class="n3">:err</span> &mdash; Sends output to stderr. </p></div><p>Output types are any of: </p><div class="s"><p class="a"><span class="n3">:error</span> (default: <span class="expr">@(opt :err)</span>) &mdash; Error messages. </p><p class="a"><span class="n3">:details</span> (default: <span class="expr">:off</span>) &mdash; Detail messages. </p><p class="a"><span class="n3">:debug</span> (default: <span class="expr">:off</span>) &mdash; Debug messages. </p><p class="a"><span class="n3">:misc</span> (default: <span class="expr">:on</span>) &mdash; Miscellaneous stuff.</p></div></div></div><div><p class="i1"><span class="k1">Returns</span></p><p>An integer representing the number of substitutions made.</p></div></div></div><div class="artifact" id="xyz-abc"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L384">xyz-abc</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">xyz&#8209;abc</span> [])</span></p><div class="desc"><p>This is documentation for function <span class="n0">xyz-abc</span>. It lazily relies on <span class="nolink">xyz-zyx</span> to do its work for it.</p></div></div><div class="artifact" id="xyz-zyx"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/examples/examples/user_guide.clj#L388">xyz-zyx</a></td><td align="right"><a href="http://clojuredocs.org/clojure_core/clojure.core/defn">defn</a> in <a href="#top">examples.user-guide</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">xyz&#8209;zyx</span> [])</span></p><div class="desc"><p>Does something remarkable with <span class="nolink">xyz-abc</span>.</p></div></div><div class="trailer"><span class="ending">Generated by <a href="https://github.com/greenh/CJD">CJD</a> 0.1.0-SNAPSHOT under Clojure 1.4.0  on 25 November 2012 17:38 PST</span></div><div style="margin-top: 1mm; margin-bottom: 4mm; text-align: center; width: 100%;"><span style="font-size: 8pt;">Copyright &copy; 2012 Howard Green. All rights reserved.</span></div></body></html>