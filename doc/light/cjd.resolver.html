<!DOCTYPE html>
<html><head><meta charset="ISO-8859-1"><title>CJD &ndash; cjd.resolver</title><link href="cjd.css" rel="stylesheet" type="text/css" /><link href="extensomatic.css" rel="stylesheet" type="text/css" /></head><body><div id="top"></div><div class="leader"><table><tbody><tr><td width="100%"><td align="right"><a href="index.html"><span class="headlink">Index</span></a></td></tr></tbody></table></div><div class="ns">cjd.resolver</div><div class="desc"><p>In some cases in CJD comments, symbols appear that refer to entities in the commented code. <span class="n0">cjd.resolver</span> provides a few functions that relate to figuring out what those particular symbols actually are. As a rule, resolution takes place within a symbol's context of use. </p><p><span style="font-variant: small-caps">Abandon all hope, ye who enter here.</span></p><div><p class="i1"><span class="k1">See also </span></p><p><a href="cjd.link-resolver.html">cjd.link-resolver</a>, which provides the mechanisms for extending the set of external documentation sources known to CJD.</p></div></div><div class="desc"><table class="summary"><tbody><tr><td colspan="2"><p class="sum-hdr">Function/Macro Summary</p></td></tr><tr class="sum"><td><a href="#find-class">find&#8209;class</a></td><td><div class="blurb">Returns the class object, given a symbol naming a class. </div></td></tr><tr class="sum"><td><a href="#link-resolve">link&#8209;resolve</a></td><td><div class="blurb">Same as <a href="#link-resolvex">link-resolvex</a>, but only returns the URI.</div></td></tr><tr class="sum"><td><a href="#link-resolvex">link&#8209;resolvex</a></td><td><div class="blurb">Given a symbol that names an entity, attempts to generate a URI that locates that entity's documentation. </div></td></tr><tr class="sum"><td><a href="#resolve-symbol">resolve&#8209;symbol</a></td><td><div class="blurb">Tries to resolve a name in the context of the namespace of its use. </div></td></tr></tbody></table></div><div class="artifact" id="find-class"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/src/clojure/cjd/resolver.clj#L42">find-class</a></td><td align="right"><a href="http://clojure.github.com/clojure/clojure.core-api.html#clojure.core/defn">defn</a> in <a href="#top">cjd.resolver</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">find&#8209;class</span> [<span class="n1">class&#8209;sym</span>])</span></p><div class="desc"><p>Returns the class object, given a symbol naming a class. </p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">class&#8209;sym</span> &mdash; A symbol putatively containing a class name, e.g. <code>java.lang.Object</code>. </p></div><div><p class="i1"><span class="k1">Returns</span></p><p>The corresponding class object, or nil if it wasn't found.</p></div></div></div><div class="artifact" id="link-resolve"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/src/clojure/cjd/resolver.clj#L183">link-resolve</a></td><td align="right"><a href="http://clojure.github.com/clojure/clojure.core-api.html#clojure.core/defn">defn</a> in <a href="#top">cjd.resolver</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">link&#8209;resolve</span> [context item])</span></p><div class="desc"><p>Same as <a href="#link-resolvex">link-resolvex</a>, but only returns the URI.</p></div></div><div class="artifact" id="link-resolvex"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/src/clojure/cjd/resolver.clj#L136">link-resolvex</a></td><td align="right"><a href="http://clojure.github.com/clojure/clojure.core-api.html#clojure.core/defn">defn</a> in <a href="#top">cjd.resolver</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">link&#8209;resolvex</span> [<span class="n1">context</span> <span class="n1">item</span>])</span></p><div class="desc"><p>Given a symbol that names an entity, attempts to generate a URI that locates that entity's documentation. </p><p>There are several possibilities addressed here: </p><ul><li><p>the entity could be in the context namespace (i.e., is in the file currently being processed) </p></li><li><p>it could be in a &quot;local&quot; namespace, a namespace that's part of the current CJD-doc run. </p></li><li><p>it could be in a namespace known by virtue of an externally supplied mapping function. </p></li><li><p>The entity could <i>be</i> a namespace. </p></li><li><p>or, none of the above, in which case it's clueless, and admits it.</p></li></ul><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">context</span> &mdash; The current context map. </p><p class="a1"><span class="n1">item</span> &mdash; The entity of interest. </p></div><div><p class="i1"><span class="k1">Returns</span></p><p>A tuple of the form [uri ns-sym sym-sym], where </p><div class="s"><p class="a"><span class="n2">uri</span> &mdash; A string containing the URI of the item of interest, or nil if the entity couldn't be located. </p><p class="a"><span class="n2">item&#8209;ns</span> &mdash; A symbol that identifies the namespace. </p><p class="a"><span class="n2">item&#8209;sym</span> &mdash; A symbol that identifies the entity within the namespace. Note that this will be nil if <span class="n1">item</span> designates a namespace or class. </p></div><p>Or, if <span class="n1">item</span> can't be resolved, returns nil.</p></div></div></div><div class="artifact" id="resolve-symbol"><table class="topline"><tbody><tr><td><a class="itemname" href="https://github.com/greenh/CJD/blob/master/src/clojure/cjd/resolver.clj#L70">resolve-symbol</a></td><td align="right"><a href="http://clojure.github.com/clojure/clojure.core-api.html#clojure.core/defn">defn</a> in <a href="#top">cjd.resolver</a></td></tr></tbody></table><p class="decl"><span class="expr">(<span class="n0">resolve&#8209;symbol</span> [<span class="n1">context</span> <span class="n1">sym</span> <span class="n1">use&#8209;ns</span>])</span></p><div class="desc"><p>Tries to resolve a name in the context of the namespace of its use. </p><p>This turns into a remarkably exciting proposition because Clojure really manages names in two worlds: vars, and the native, e.g., Java, namespace. <i>Most</i> named artifacts have names in the Clojure world, but some&mdash;notably records and types&mdash;are named in the native naming space, the fact that they originiate in the Clojure world notwithstanding. </p><p>Thus, a name can legitimately resolve to a Clojure var or the name of a class. Even if it resolves to a class, <span class="n0">resolve-symbol</span> makes a heroic attempt to reframe the classname into a Clojure-like form. A record &quot;Fum&quot; defined in namespace &quot;foo-bar&quot; will have a (munged) class name of &quot;foo_bar.Fum&quot;; <span class="n0">resolve-symbol</span> will effectively resolve this to &quot;foo.bar/Fum&quot; (though it actually returns the namespace and var-name components separately). </p><div class="s1"><p class="v1"><span class="k1">Arguments</span></p><p class="a1"><span class="n1">context</span> &mdash; The current <span class="nolink">Context</span> object. </p><p class="a1"><span class="n1">sym</span> &mdash; The symbol containing the name to resolve. </p><p class="a1"><span class="n1">use&#8209;ns</span> &mdash; The namespace name (a symbol) to resolve against. </p></div><div><p class="i1"><span class="k1">Returns</span></p><p>A tuple of the form <code>[<span class="n2">ns&#8209;name</span> <span class="n2">var&#8209;name</span>]</code>, where: </p><div class="s"><p class="a"><span class="n2">ns&#8209;name</span> &mdash; A symbol denoting the namespace, <i>OR</i> name of a Java class. </p><p class="a"><span class="n2">var&#8209;name</span> &mdash; If <span class="n2">ns-name</span> denotes a Clojure namespace, this is the name of the var within the namespace (i.e., with all prefixes scraped off). If <span class="n1">sym</span> denotes a class or namespace, this is nil.</p></div></div></div></div><div class="trailer"><span class="ending">Generated by <a href="https://github.com/greenh/CJD">CJD</a> 0.1.0-SNAPSHOT under Clojure 1.4.0  on 5 December 2012 19:44 PST</span></div><div style="margin-top: 1mm; margin-bottom: 4mm; text-align: center; width: 100%;"><span style="font-size: 8pt;">Copyright &copy; 2012 Howard Green. All rights reserved.</span></div></body></html>