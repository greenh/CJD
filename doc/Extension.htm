<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="Extension_files/filelist.xml">
<title>CJD documentation</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Howard Green</o:Author>
  <o:LastAuthor>Howard Green</o:LastAuthor>
  <o:Revision>10</o:Revision>
  <o:TotalTime>28927</o:TotalTime>
  <o:Created>2012-01-24T16:20:00Z</o:Created>
  <o:LastSaved>2012-01-29T19:21:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>1591</o:Words>
  <o:Characters>9070</o:Characters>
  <o:Company>None</o:Company>
  <o:Lines>75</o:Lines>
  <o:Paragraphs>21</o:Paragraphs>
  <o:CharactersWithSpaces>10640</o:CharactersWithSpaces>
  <o:Version>11.9999</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:RelyOnVML/>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:DontDisplayPageBoundaries/>
  <w:DisplayBackgroundShape/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:SelectEntireFieldWithStartOrEnd/>
   <w:UseWord2002TableStyleRules/>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:DoNotOptimizeForBrowser/>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:\5B8B\4F53;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:.5in;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:SimSun;
	mso-bidi-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Arial;
	mso-font-kerning:16.0pt;}
h2
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:.5in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:12.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:Arial;
	mso-bidi-font-style:italic;}
h3
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:.5in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:11.0pt;
	mso-bidi-font-size:13.0pt;
	font-family:Arial;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{mso-style-update:auto;
	mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:.5in;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:SimSun;
	mso-bidi-font-family:"Times New Roman";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{mso-style-update:auto;
	mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:.75in;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:SimSun;
	mso-bidi-font-family:"Times New Roman";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{mso-style-update:auto;
	mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:1.0in;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:SimSun;
	mso-bidi-font-family:"Times New Roman";}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{mso-style-noshow:yes;
	margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:.5in;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:SimSun;
	mso-bidi-font-family:"Times New Roman";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:.5in;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:SimSun;
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;}
span.MsoFootnoteReference
	{mso-style-noshow:yes;
	vertical-align:super;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
pre
	{margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:4.0pt;
	margin-left:.5in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:SimSun;}
p.Prog, li.Prog, div.Prog
	{mso-style-name:Prog;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:9.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:SimSun;
	mso-bidi-font-family:"Times New Roman";}
span.ProgTextChar
	{mso-style-name:"ProgText Char";
	mso-style-locked:yes;
	mso-style-link:ProgText;
	mso-ansi-font-size:11.0pt;
	font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:SimSun;
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";
	mso-ansi-language:EN-US;
	mso-fareast-language:ZH-CN;
	mso-bidi-language:AR-SA;
	mso-no-proof:yes;}
p.ProgText, li.ProgText, div.ProgText
	{mso-style-name:ProgText;
	mso-style-link:"ProgText Char";
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:0in;
	margin-left:.6in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:63.0pt 1.25in 117.0pt;
	background:#FFFFDD;
	border:none;
	mso-border-alt:solid windowtext .5pt;
	padding:0in;
	mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:SimSun;
	mso-bidi-font-family:"Times New Roman";
	mso-no-proof:yes;}
span.itemname
	{mso-style-name:itemname;}
span.string
	{mso-style-name:string;}
span.tag
	{mso-style-name:tag;}
 /* Page Definitions */
 @page
	{mso-footnote-separator:url("Extension_files/header.htm") fs;
	mso-footnote-continuation-separator:url("Extension_files/header.htm") fcs;
	mso-endnote-separator:url("Extension_files/header.htm") es;
	mso-endnote-continuation-separator:url("Extension_files/header.htm") ecs;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:835922295;
	mso-list-type:hybrid;
	mso-list-template-ids:-902654880 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.8in;
	mso-level-number-position:left;
	margin-left:.8in;
	text-indent:-.25in;
	font-family:Symbol;}
@list l0:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.3in;
	mso-level-number-position:left;
	margin-left:1.3in;
	text-indent:-.25in;
	font-family:"Courier New";}
@list l0:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1
	{mso-list-id:1440106209;
	mso-list-type:hybrid;
	mso-list-template-ids:-928251878 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.8in;
	mso-level-number-position:left;
	margin-left:.8in;
	text-indent:-.25in;
	font-family:Symbol;}
@list l1:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
table.MsoTableGrid
	{mso-style-name:"Table Grid";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin-top:3.0pt;
	mso-para-margin-right:0in;
	mso-para-margin-bottom:3.0pt;
	mso-para-margin-left:.3in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="7170"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid windowtext 2.25pt;
padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#FFDDDD;margin-left:1.0in;
margin-right:1.0in'>

<p class=MsoNormal align=center style='margin-left:0in;text-align:center;
background:#FFDDDD;border:none;mso-border-alt:solid windowtext 2.25pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><b style='mso-bidi-font-weight:
normal'><span style='font-size:20.0pt;color:red'>WARNING! <o:p></o:p></span></b></p>

<p class=MsoNormal align=center style='margin-left:0in;text-align:center;
background:#FFDDDD;border:none;mso-border-alt:solid windowtext 2.25pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><b style='mso-bidi-font-weight:
normal'><span style='font-size:16.0pt;color:red'>This is all <i
style='mso-bidi-font-style:normal'>very</i> preliminary and incomplete! <o:p></o:p></span></b></p>

<p class=MsoNormal align=center style='margin-left:0in;text-align:center;
background:#FFDDDD;border:none;mso-border-alt:solid windowtext 2.25pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><b style='mso-bidi-font-weight:
normal'><span style='font-size:16.0pt;color:red'>Use at your own risk!<o:p></o:p></span></b></p>

</div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Clojure, as a dialog of Lisp, carries on Lisp's longstanding
tradition of syntactic extensibility. Clojure's extension facilities—notably its
macro mechanism—allow a suitably inspired programmer to effectively make
additions to the base Clojure language.</p>

<p class=MsoNormal>This has some interesting ramifications for a structured
documentation facility such as for CJD. CJD's core implementation supports
structured documentation for the various constructs found in the core
implementation of Clojure, including defs, functions, macros, protocols,
records, and multimethods. But Clojure is extensible, allowing programmers to
introduce new constructs, and it's a no-brainer that artifacts defined by these
new constructs will be entirely deserving of meaningful documentation in their
own right. Ergo, it follows that CJD must be extensible as well, if it is to
adequately support Clojure in the real world.</p>

<p class=MsoNormal>This document describes the ways by which a programmer can
extend CJD. It presupposes a working knowledge of Clojure and CJD. If your
extension requires generating HTML, we strongly recommend that you be familiar
with the excellent <a href="https://github.com/weavejester/hiccup">Hiccup</a>
package as well.</p>

<p class=MsoNormal style='margin-top:.25in;margin-right:0in;margin-bottom:4.0pt;
margin-left:0in'><b><span style='font-size:16.0pt;mso-bidi-font-family:Arial;
mso-font-kerning:16.0pt'>Contents<o:p></o:p></span></b></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><!--[if supportFields]><span
style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'> </span>TOC \o &quot;1-3&quot; \h \z \u <span
style='mso-element:field-separator'></span><![endif]--><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc315266621">Adding
extensions to CJD<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>.. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc315266621 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>1<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300310035003200360036003600320031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-family:"Times New Roman";mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc315266622">Customizing
CJD output<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc315266622 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>2<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300310035003200360036003600320032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-family:"Times New Roman";mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc315266623">Adding<span
style='font-family:"Courier New";mso-bidi-font-family:"Times New Roman"'> </span>web
resources<span style='color:windowtext;display:none;mso-hide:screen;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc315266623 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>2<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300310035003200360036003600320033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-family:"Times New Roman";mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc315266624">Link
resolution functions<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF _Toc315266624
\h </span><span style='color:windowtext;text-decoration:none;text-underline:
none'><span style='display:none;mso-hide:screen'><span style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>2<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300310035003200360036003600320034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-family:"Times New Roman";mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc315266625">Document
headers and footers<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc315266625 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>2<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300310035003200360036003600320035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-family:"Times New Roman";mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc315266626">Extending
CJD's artifact model<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc315266626 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>2<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300310035003200360036003600320036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-family:"Times New Roman";mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc315266627">Adding
support for a simple artifact<span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc315266627 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>2<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300310035003200360036003600320037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-family:"Times New Roman";mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc315266628">Parsing
routines<span style='color:windowtext;display:none;mso-hide:screen;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc315266628 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>4<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300310035003200360036003600320038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-family:"Times New Roman";mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc315266629">Output
generation<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF _Toc315266629
\h </span><span style='color:windowtext;text-decoration:none;text-underline:
none'><span style='display:none;mso-hide:screen'><span style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>4<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300310035003200360036003600320039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-family:"Times New Roman";mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc315266630">Artifacts
with subartifacts<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc315266630 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>4<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300310035003200360036003600330030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-family:"Times New Roman";mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc315266631">Adding
an element<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc315266631 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>4<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300310035003200360036003600330031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-family:"Times New Roman";mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:0in'><!--[if supportFields]><span
style='mso-element:field-end'></span><![endif]--><o:p>&nbsp;</o:p></p>

<h1><a name="_Toc315266621">Adding extensions to CJD</a></h1>

<p class=MsoNormal>An extension to CJD is written in Clojure. Generally
speaking, they're contained in one or more namespaces dedicated to CJD
support—they're development-time code, and not something you'd generally want
to ship as part of the operational output your project. </p>

<p class=MsoNormal>You make CJD aware of such namespaces by including their
names in the &quot;requires&quot; option when you run CJD: this is either:</p>

<p class=MsoNormal style='margin-left:.8in;text-indent:-.25in;mso-list:l1 level1 lfo2;
tab-stops:list .8in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>:requires</span></span> option
when running <a
href="http://greenh.github.com/CJD/doc/dark/cjd.exome.html#cjd-generator">cjd-generator</a>
or <a href="http://greenh.github.com/CJD/doc/dark/cjd.exome.html#cjd-gen">cjd-gen</a>;</p>

<p class=MsoNormal style='margin-left:.8in;text-indent:-.25in;mso-list:l1 level1 lfo2;
tab-stops:list .8in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>:requires</span></span> option
of the <span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>:cjd-opts</span></span>
map when using leiningen.</p>

<p class=MsoNormal style='margin-left:.8in;text-indent:-.25in;mso-list:l1 level1 lfo2;
tab-stops:list .8in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>--requires</span></span> option
when <a href="http://greenh.github.com/CJD/doc/dark/cjd.main.html#-main">running
from the command line</a>;</p>

<p class=MsoNormal>Needless to say, any extension namespaces must be accessible
on the classpath when running CJD, in whatever form.</p>

<p class=MsoNormal>If your extension is implemented as multiple namespaces
which are hierarchically loaded by one another, it's generally only necessary
to tell CJD about the root namespaces of the hierarchy, as Clojure will
automatically load the rest. </p>

<h1>Preliminaries</h1>

<h2>The CJD context object</h2>

<p class=MsoNormal>CJD ubiquitously uses a &quot;context object&quot; in many
aspects of its internal operations. It's currently defined by the <a
href="http://greenh.github.com/CJD/doc/dark/cjd.context.html#Context">Context</a>
record type, and essentially consists of a long list of fields and what amount
to setter/getter methods. </p>

<p class=MsoNormal>The context object contains essentially all of the global
state information for a CJD run—everything from option settings to the start
time of the CJD run, but parts of it are updated on the fly to describe what's
currently being processed. It also contains methods for generating
context-sensitive messages, warnings, and errors.</p>

<p class=MsoNormal>Unless you're really digging into the internals of CJD, you
probably won't need to deal much with the context object; but many CJD functions
require or receive it as a parameter. This is often done on a pro-forma basis;
so the takeaway here is that if you need, say, to write a function that takes a
context object as a parameter, you it, and that's OK—it won't bite.</p>

<h1><a name="_Toc315255992"></a><a name="_Toc315266622"><span style='mso-bookmark:
_Toc315255992'>Customizing CJD output</span></a></h1>

<p class=MsoNormal>CJD provides a limited set of ways by which you can
customize its output. </p>

<h2><a name="_Toc315255993"></a><a name="_Toc315266623"><span style='mso-bookmark:
_Toc315255993'>Adding</span></a><span style='mso-bookmark:_Toc315266623'><span
style='mso-bookmark:_Toc315255993'><span class=ProgTextChar><span
style='font-size:11.0pt;mso-bidi-font-size:14.0pt;mso-bidi-font-family:Arial'> </span></span>web
resources</span></span><span style='mso-bookmark:_Toc315255993'></span><span
style='mso-bookmark:_Toc315266623'></span><span class=ProgTextChar><span
style='font-size:14.0pt;mso-bidi-font-family:Arial'><o:p></o:p></span></span></h2>

<p class=MsoNormal>Occasionally you may want to add web-related resources such
as images or custom CSS files to </p>

<h2><a name="_Toc315255994"></a><a name="_Toc315266624"><span style='mso-bookmark:
_Toc315255994'>Link resolution functions</span></a></h2>

<p class=MsoNormal>One of CJD's goals is to make it easy to generate links that
reference the documentation of program-related entities, such as Clojure
artifacts or Java classes. CJD natively knows about a few such bodies of
documentation, like for <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>clojure.core</span></span> and <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>java</span></span> classes.
Thus, if you're documenting a function that uses, say, <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>clojure.core/extends</span></span>,<span
style='mso-spacerun:yes'>  </span>you can just put <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>@(link&nbsp;extends)</span></span>
in a CJD-comment and CJD will look up the symbol and insert the link to the <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>extends</span></span>
documentation (as we discuss in detail <a href="#_Linking_to_other">above</a>).</p>

<p class=MsoNormal>CJD allows you to add add</p>

<h2><a name="_Toc315255995"></a><a name="_Toc315266625"><span style='mso-bookmark:
_Toc315255995'>Document headers and footers</span></a></h2>

<p class=MsoNormal>CJD places simple headers and footers the documents it
generates. You might like replace or add to these headers or footers, perhaps
to add a logo, or a copyright or other fine print (as, for example, in the
footer that appears on each page of <a
href="http://greenh.github.com/CJD/doc/dark/index.html">CJD's documentation</a>).
</p>

<p class=MsoNormal>If you'd like to replace, or add to, the existing headers,
you write a function that generates the HTML for the header or footer. Here’s
an example of a footer function that adds a copyright message; it's derived
from the <a
href="https://github.com/greenh/CJD/blob/master/src/clojure/cjd/cjd/its_mine.clj">namespace
used by CJD</a> for its own documentation.</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .5pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#FFFFDD;margin-left:.6in;margin-right:.1in'>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'>(ns
my-project.cjd-fns</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>  </span>(:use </p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>    </span>[cjd generate context]</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>    </span>[hiccup core]))</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><o:p>&nbsp;</o:p></p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'>(defn
gen-footer [context]</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>  </span>(html</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>    </span>(gen-trailer context)</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>    </span>[:div {:style &quot;text-align: center;
width: 100%;&quot;}</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>      </span>[:span {:style &quot;font-size:
8pt;&quot;}</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>          </span>&quot;Copyright 2012 MegaCorp Inc.
All rights reserved.&quot;]])))</p>

</div>

<p class=MsoNormal>In this case, the <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>gen-footer</span></span> function
adds to, rather than replaces, CJD's default footer by calling the <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'><a
href="http://greenh.github.com/CJD/doc/dark/cjd.generate.html#gen-trailer">gen-trailer</a></span></span>,
the default footer generator; but this is entirely optional. The corresponding
default header function is <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'><a
href="http://greenh.github.com/CJD/doc/dark/cjd.generate.html#gen-leader">gen-leader</a></span></span>.</p>

<p class=MsoNormal>.</p>

<h3><o:p>&nbsp;</o:p></h3>

<h1><a name="_Toc315266626">Extending CJD's artifact model</a></h1>

<h2><a name="_Toc315266627">Adding support for a simple artifact</a></h2>

<p class=MsoNormal>Here's a typical scenario. Suppose you've written a macro
called <span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>defwhatsit</span></span>,
which you then invoke whenever you feel it's appropriate to create a new <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>whatsit</span></span>.
So, we'd expect to see something like </p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .5pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#FFFFDD;margin-left:.6in;margin-right:.1in'>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><o:p>&nbsp;</o:p></p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'>(defmacro
defwhatsit [name other-parameters...]</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>   </span>...implementation... )</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><o:p>&nbsp;</o:p></p>

</div>

<p class=MsoNormal style='margin-left:.3in;text-indent:.2in'>Here's an example
of what minimal CJD support might look like.</p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .5pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#FFFFDD;margin-left:.6in;margin-right:.1in'>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><o:p>&nbsp;</o:p></p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'>(ns
my-ns.cjd</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>  </span>(:use </p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>    </span>[cjd.artifact-base]</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>    </span>[cjd.generate]</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>    </span>))</p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><o:p>&nbsp;</o:p></p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'>(defartifact
Whatsit defwhatsit &quot;What Is It&quot; [][] </p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='mso-spacerun:yes'>             </span><span class=itemname>simple-artifact-parser)<o:p></o:p></span></p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><o:p>&nbsp;</o:p></p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='font-size:10.0pt'>(mk-category :</span>whatsit<span style='font-size:
10.0pt'> &quot;</span>What Is It<span style='font-size:10.0pt'>&quot;)<o:p></o:p></span></p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><span
style='font-size:10.0pt'>(mk-art</span> Whatsit gen-desc<span style='font-size:
10.0pt'> :</span>whatsit<span style='font-size:10.0pt'>)<o:p></o:p></span></p>

<p class=ProgText style='margin:0in;margin-bottom:.0001pt;background:#FFFFDD'><o:p>&nbsp;</o:p></p>

</div>

<p class=MsoNormal>Here's what it means:</p>

<p class=MsoNormal style='margin-left:.8in;text-indent:-.25in;mso-list:l0 level1 lfo4;
tab-stops:list .8in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'><a
href="http://greenh.github.com/CJD/doc/dark/cjd.artifact-base.html#defartifact">defartifact</a></span></span>
call defines a new type of artifact, which ultimately is represented as a
Clojure record type with a canned set of fields and methods supplied by <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>defartifact</span></span>.
The parameters here include: </p>

<p class=MsoNormal style='margin-left:1.3in;text-indent:-.25in;mso-list:l0 level2 lfo4;
tab-stops:list 1.3in'><![if !supportLists]><span style='font-family:"Courier New";
mso-fareast-font-family:"Courier New"'><span style='mso-list:Ignore'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>Whatsit</span></span>, a name for the artifact (any valid
Clojure name will do).</p>

<p class=MsoNormal style='margin-left:1.3in;text-indent:-.25in;mso-list:l0 level2 lfo4;
tab-stops:list 1.3in'><![if !supportLists]><span style='font-family:"Courier New";
mso-fareast-font-family:"Courier New"'><span style='mso-list:Ignore'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>defwhatsit</span></span>, the name of the function or macro
that defines a <span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>whatsit</span></span>.
This is the symbol CJD uses to recognize that a <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>whatsit</span></span> is being
defined.</p>

<p class=MsoNormal style='margin-left:1.3in;text-indent:-.25in;mso-list:l0 level2 lfo4;
tab-stops:list 1.3in'><![if !supportLists]><span style='font-family:"Courier New";
mso-fareast-font-family:"Courier New"'><span style='mso-list:Ignore'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>&quot;What Is It&quot;</span></span> is a (very) short
string describing of what kind of thing the artifact represents, available for
potential use in describing the artifact in the output.</p>

<p class=MsoNormal style='margin-left:1.3in;text-indent:-.25in;mso-list:l0 level2 lfo4;
tab-stops:list 1.3in'><![if !supportLists]><span style='font-family:"Courier New";
mso-fareast-font-family:"Courier New"'><span style='mso-list:Ignore'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The empty vectors <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>[][]</span></span> would come
into play if the <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>Whatsit</span></span> artifact needed additional content
(we'll get to that anon); but here are just placeholders.</p>

<p class=MsoNormal style='margin-left:1.3in;text-indent:-.25in;mso-list:l0 level2 lfo4;
tab-stops:list 1.3in'><![if !supportLists]><span style='font-family:"Courier New";
mso-fareast-font-family:"Courier New"'><span style='mso-list:Ignore'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'><a
href="http://greenh.github.com/CJD/doc/dark/cjd.artifact-base.html#simple-artifact-parser">simple-artifact-parser</a></span></span>
is a very simple-minded parser that parses each <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>defwhatsit</span></span>
instance to the extent of extracting the name of the <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>whatsit</span></span>. </p>

<p class=MsoNormal style='margin-left:.8in;text-indent:-.25in;mso-list:l0 level1 lfo4;
tab-stops:list .8in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'><a
href="http://greenh.github.com/CJD/doc/dark/cjd.generate.html#mk-category">mk-category</a></span></span>
call defines a new category of artifact. The primary place this gets used is in
producing the &quot;summary&quot; lists found at the start of each namespace.
The call here assumes that <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>whatsits </span></span>are sufficiently different from all
other kinds of artifacts so as to warrant creation of a new category, i.e. that
it's not like a function or record or anything one would find in core Clojure.</p>

<p class=MsoNormal style='margin-left:1.3in;text-indent:-.25in;mso-list:l0 level2 lfo4;
tab-stops:list 1.3in'><![if !supportLists]><span style='font-family:"Courier New";
mso-fareast-font-family:"Courier New";mso-no-proof:yes'><span style='mso-list:
Ignore'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>:whatsit</span></span> is a key identifying the category.<span
style='font-family:"Courier New";mso-bidi-font-family:"Times New Roman";
mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.3in;text-indent:-.25in;mso-list:l0 level2 lfo4;
tab-stops:list 1.3in'><![if !supportLists]><span class=ProgTextChar><span
style='mso-fareast-font-family:"Courier New"'><span style='mso-list:Ignore'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></span><![endif]><span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>&quot;What Is It&quot;</span></span>
is the category name (you'd expect to see a <span style='font-variant:small-caps'>What
Is It Summary</span> section in each namespace in which it was used).<span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'><o:p></o:p></span></span></p>

<p class=MsoNormal style='margin-left:.8in;text-indent:-.25in;mso-list:l0 level1 lfo4;
tab-stops:list .8in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'><a
href="http://greenh.github.com/CJD/doc/dark/cjd.generate.html#mk-art">mk-art</a></span></span>
call tells the output generator how to handle <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>whatsit</span></span> artifacts.
Parameters include:</p>

<p class=MsoNormal style='margin-left:1.3in;text-indent:-.25in;mso-list:l0 level2 lfo4;
tab-stops:list 1.3in'><![if !supportLists]><span style='font-family:"Courier New";
mso-fareast-font-family:"Courier New"'><span style='mso-list:Ignore'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>Whatsit</span></span> is the artifact record name, as
defined in the <span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>defartifact</span></span>
call.</p>

<p class=MsoNormal style='margin-left:1.3in;text-indent:-.25in;mso-list:l0 level2 lfo4;
tab-stops:list 1.3in'><![if !supportLists]><span style='font-family:"Courier New";
mso-fareast-font-family:"Courier New";mso-no-proof:yes'><span style='mso-list:
Ignore'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'><a
href="http://greenh.github.com/CJD/doc/dark/cjd.generate.html#gen-desc">gen-desc</a></span></span>
is a simple-minded output generation routine. It assumes that the artifact has no
substructure (arguments, options, methods, etc.) of any kind, and so just
generates HTML for the CJD comment text with no further ado.<span
style='font-family:"Courier New";mso-bidi-font-family:"Times New Roman";
mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.3in;text-indent:-.25in;mso-list:l0 level2 lfo4;
tab-stops:list 1.3in'><![if !supportLists]><span style='font-family:"Courier New";
mso-fareast-font-family:"Courier New";mso-no-proof:yes'><span style='mso-list:
Ignore'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>:whatsit</span></span> is the category key defined by <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>mk-category</span></span>.<span
style='font-family:"Courier New";mso-bidi-font-family:"Times New Roman";
mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoNormal>…and that's it.</p>

<p class=MsoNormal>To get CJD to recognize your additions, run CJD with a
classpath that includes the <span class=ProgTextChar><span style='mso-bidi-font-family:
"Times New Roman"'>my&#8209;ns.cjd</span></span> namespace, and use the <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>:requires
my&#8209;ns.cjd</span></span> option (or <span class=ProgTextChar><span
style='mso-bidi-font-family:"Times New Roman"'>&#8209;&#8209;requires</span></span>
<span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>my&#8209;ns.cjd</span></span>
from the command line) to commend the namespace to CJD's attention.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2><a name="_Toc315266628">Parsing routines</a></h2>

<p class=MsoNormal>The previous example assumed that a <span
class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>whatsit</span></span>
had no internal structure—pretty much the situation you'd see for a var defined
with <span class=ProgTextChar><span style='mso-bidi-font-family:"Times New Roman"'>def</span></span>,
for example. Obviously, this doesn't reflect most artifacts, where we'd expect
to see all manner of potentially documentation-worthy substructure, things like
arguments or options or keys or methods—or methods with parameters or options
or keys, for that matter! </p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'>Stay tuned for more to
come…<o:p></o:p></i></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2><a name="_Toc315266629">Output generation</a></h2>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2><a name="_Toc315266630">Artifacts with subartifacts</a></h2>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2><a name="_Toc315266631">Adding an element</a></h2>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.3in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
margin-bottom:3.0pt;margin-left:0in;text-align:center'><span style='font-size:
9.0pt'>Copyright © 2012 Howard Green. All rights reserved.<b style='mso-bidi-font-weight:
normal'><o:p></o:p></b></span></p>

<p class=MsoNormal style='tab-stops:192.0pt'><span style='mso-tab-count:1'>                                                    </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
